<!DOCTYPE html>
<html lang="pl">
  <head>
    <%- include('../views/head'); %>
  </head>

  <body class="addStar">
    <%- include('../views/nav'); %>
    <section class="wrapper">
      <h1>Wyszukaj konstaleacje</h1>
      <form action="/constelation" method="GET">
        <label>Wybierz poziom zachmurzenia</label>
        <select name="cloud" onchange="handleCloudChange(this)">
          <option value="0" selected>0</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
          <option value="10">10</option>
        </select>
        <br />
        <label>Wybierz faze księżyca</label>
        <select name="moon">
          <option value="1">Nów</option>
          <option value="2">Pierwsza kwarta</option>
          <option value="3" selected>Pełnia</option>
          <option value="4">Trzecia kwarta</option>
        </select>
        <br />

        <div id="precipitationDiv" style="display: none">
          <label>Wybierz rodzaj opadów</label>
          <select name="precipitation">
            <option value="0" selected>Brak opadów atmosferycznych</option>
            <option value="1">Deszcz</option>
            <option value="2">Grad</option>
            <option value="3">Śnieg</option>
          </select>
          <br />
        </div>

        <label>Wybór poziomu gestości mgły</label>
        <select name="fog">
          <option value="0" selected>0</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
          <option value="10">10</option></select
        ><br />
        <input type="submit" value="Wyszukaj" />
        <script>
          function handleCloudChange(selectElement) {
            var cloudSelect = document.getElementsByName("cloud")[0];
            var precipitationDiv = document.getElementById("precipitationDiv");
            var selectedValue = selectElement.value;

            if (selectedValue === "0") {
              precipitationDiv.style.display = "none";
              var precipitationSelect =
                document.getElementsByName("precipitation")[0];
              precipitationSelect.value = "0";
            } else {
              precipitationDiv.style.display = "block";
            }
          }
        </script>
      </form>
    </section>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
